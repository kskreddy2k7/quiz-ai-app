<CardButton@Button>:
    background_normal: ""
    background_color: 0, 0, 0, 0
    color: 1, 1, 1, 1
    font_size: "15sp"
    halign: "left"
    valign: "middle"
    padding: "16dp", "16dp"
    text_size: self.size
    canvas.before:
        Color:
            rgba: 0.16, 0.22, 0.3, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [18]

<SectionCard@BoxLayout>:
    orientation: "vertical"
    padding: "16dp"
    spacing: "10dp"
    size_hint_y: None
    height: self.minimum_height
    canvas.before:
        Color:
            rgba: 0.12, 0.16, 0.22, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [18]

<HomeScreen>:
    canvas.before:
        Color:
            rgba: 0.05, 0.07, 0.12, 1
        Rectangle:
            pos: self.pos
            size: self.size
    ScrollView:
        do_scroll_x: False
        BoxLayout:
            orientation: "vertical"
            padding: "24dp"
            spacing: "18dp"
            size_hint_y: None
            height: self.minimum_height

            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                Label:
                    text: "Hello, Learner"
                    font_size: "26sp"
                    bold: True
                    color: 0.75, 0.9, 1, 1
                    size_hint_y: None
                    height: self.texture_size[1]
                Label:
                    text: "Ask any doubt. Practice smart. Grow fast."
                    font_size: "14sp"
                    color: 0.7, 0.8, 0.9, 0.8
                    size_hint_y: None
                    height: self.texture_size[1]

            SectionCard:
                Label:
                    text: root.daily_quote
                    font_size: "14sp"
                    color: 0.85, 0.9, 1, 0.9
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                Label:
                    text: root.ai_status
                    font_size: "12sp"
                    color: root.ai_status_color
                    size_hint_y: None
                    height: self.texture_size[1]
                Label:
                    text: root.streak_text
                    font_size: "13sp"
                    color: 0.5, 0.9, 0.7, 1
                    size_hint_y: None
                    height: self.texture_size[1]

            SectionCard:
                Label:
                    text: "Ask any doubtâ€¦"
                    font_size: "13sp"
                    color: 0.6, 0.7, 0.9, 1
                    size_hint_y: None
                    height: self.texture_size[1]
                BoxLayout:
                    size_hint_y: None
                    height: "48dp"
                    spacing: "10dp"
                    TextInput:
                        id: search_input
                        hint_text: "Type your question"
                        multiline: False
                        background_normal: ""
                        background_color: 0.1, 0.14, 0.2, 1
                        foreground_color: 1, 1, 1, 1
                        padding: "12dp", "10dp"
                        cursor_color: 0.6, 0.85, 1, 1
                    Button:
                        text: "Ask"
                        size_hint_x: None
                        width: "80dp"
                        background_normal: ""
                        background_color: 0.35, 0.55, 0.9, 1
                        disabled: not root.ai_available
                        opacity: 0.5 if self.disabled else 1
                        on_release:
                            app.go_ai_chat()
                            app.send_ai_question(search_input.text)
                            search_input.text = ""

            BoxLayout:
                orientation: "vertical"
                spacing: "12dp"
                size_hint_y: None
                height: self.minimum_height
                CardButton:
                    text: "ðŸ¤–  Ask AI Doubt"
                    disabled: not root.ai_available
                    opacity: 0.5 if self.disabled else 1
                    on_release: app.go_ai_chat()
                CardButton:
                    text: "ðŸ§   Generate AI Quiz"
                    disabled: not root.ai_available
                    opacity: 0.5 if self.disabled else 1
                    on_release: app.go_quiz_setup()
                CardButton:
                    text: "ðŸ“˜  Offline Quiz"
                    on_release: app.go_quiz_setup()
                CardButton:
                    text: "âœ¨  Daily Motivation"
                    disabled: not root.ai_available
                    opacity: 0.5 if self.disabled else 1
                    on_release: app.request_daily_motivation()
                CardButton:
                    text: "ðŸ“ˆ  Progress"
                    on_release: app.go_progress()
                CardButton:
                    text: "ðŸ“š  Study Materials"
                    on_release: app.go_materials()

            SectionCard:
                Label:
                    text: root.motivation_status
                    font_size: "13sp"
                    color: 0.85, 0.9, 1, 0.9
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]

            Label:
                text: root.permission_status
                font_size: "12sp"
                color: 0.6, 0.7, 0.8, 0.8
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Created by Kata Sai Kranthu Reddy"
                font_size: "12sp"
                color: 0.5, 0.7, 0.9, 0.8
                size_hint_y: None
                height: self.texture_size[1]
