<QuizSetupScreen>:
    canvas.before:
        Color:
            rgba: 0.05, 0.07, 0.12, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "vertical"
        padding: "20dp"
        spacing: "14dp"
        BoxLayout:
            size_hint_y: None
            height: "40dp"
            Button:
                text: "‚Üê Back"
                size_hint_x: None
                width: "90dp"
                background_normal: ""
                background_color: 0.16, 0.22, 0.3, 1
                on_release: app.go_home()
            Label:
                text: "Quiz Setup"
                color: 0.7, 0.9, 1, 1
                bold: True
        Label:
            text: "Choose your focus"
            font_size: "18sp"
            color: 0.85, 0.9, 1, 1
            size_hint_y: None
            height: self.texture_size[1]
        BoxLayout:
            orientation: "vertical"
            spacing: "10dp"
            size_hint_y: None
            height: self.minimum_height
            Label:
                text: "Subject"
                font_size: "13sp"
                color: 0.6, 0.7, 0.9, 1
                size_hint_y: None
                height: self.texture_size[1]
            Spinner:
                text: root.selected_subject if root.selected_subject else "Select"
                values: root.subjects
                background_normal: ""
                background_color: 0.16, 0.22, 0.3, 1
                color: 1, 1, 1, 1
                on_text: root.set_subject(self.text, app._data_path("subjects.json"))
        BoxLayout:
            orientation: "vertical"
            spacing: "10dp"
            size_hint_y: None
            height: self.minimum_height
            Label:
                text: "Topic"
                font_size: "13sp"
                color: 0.6, 0.7, 0.9, 1
                size_hint_y: None
                height: self.texture_size[1]
            Spinner:
                text: root.selected_topic if root.selected_topic else "Select"
                values: root.topics
                background_normal: ""
                background_color: 0.16, 0.22, 0.3, 1
                color: 1, 1, 1, 1
                on_text: root.set_topic(self.text)
        BoxLayout:
            orientation: "vertical"
            spacing: "10dp"
            size_hint_y: None
            height: self.minimum_height
            Label:
                text: "Difficulty"
                font_size: "13sp"
                color: 0.6, 0.7, 0.9, 1
                size_hint_y: None
                height: self.texture_size[1]
            Spinner:
                text: root.selected_difficulty
                values: root.difficulties
                background_normal: ""
                background_color: 0.16, 0.22, 0.3, 1
                color: 1, 1, 1, 1
                on_text: root.set_difficulty(self.text)
        Button:
            text: "Start Quiz"
            size_hint_y: None
            height: "52dp"
            background_normal: ""
            background_color: 0.35, 0.55, 0.9, 1
            on_release: app.start_quiz(root.selected_subject, root.selected_topic, root.selected_difficulty)
